{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49376041-e249e8ece49f8c2dec7a331c4';\nconst BASE_URL = 'https://pixabay.com';\naxios.defaults.baseURL = BASE_URL;\n\nexport function fetchFromPixabay(query) {\n  return axios.get('/api/', {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n};\n\nlet galleryView = new SimpleLightbox('a.gallery-link', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nfunction createImageTemplate(image) {\n  const imageTags = image.tags.slice(0, 20 + image.tags.slice(20).indexOf(','));\n  return `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${image.webformatURL}\"\n      alt=\"${imageTags}\"\n    />\n    <ul class=\"info-list\">\n    <li class=\"photo-info\" data-likes>Likes<span>${image.likes}</span></li>\n    <li class=\"photo-info\" data-views>Views<span>${image.views}</span></li>\n    <li class=\"photo-info\" data-comments>Comments<span>${image.comments}</span></li>\n    <li class=\"photo-info\" data-downloads>Downloads<span>${image.downloads}</span></li>\n    </ul>\n  </a>\n</li>`;\n}\n\nexport function renderGallery(images) {\n  const galeryContent = images.reduce(\n    (acc, image) => acc + createImageTemplate(image),\n    ''\n  );\n  refs.gallery.innerHTML = galeryContent;\n  galleryView.refresh();\n}\n\nexport function resetGallery() {\n  refs.gallery.innerHTML = '';\n  galleryView.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchFromPixabay } from './js/pixabay-api';\nimport { renderGallery, resetGallery } from './js/render-functions';\n\nconst refs = {\n  form: document.querySelector('form'),\n};\nrefs.form.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const form = event.target;\n  document.body.insertAdjacentHTML(\n    'afterBegin',\n    '<span class=\"loader\"></span>'\n  );\n  if (!form.elements['search-text'].value.trim()) {\n    iziToast.show({\n      message: 'Please, enter something for us to look for',\n      title: 'Warning',\n      backgroundColor: 'yellow',\n      position: 'topRight',\n    });\n  } else {\n    resetGallery();\n    fetchFromPixabay(form.elements['search-text'].value)\n      .then(resalt => {\n        document.querySelector('.loader').remove();\n        if (resalt.data.hits.length == 0) {\n          iziToast.error({\n            message: 'No resalt found',\n            position: 'topRight',\n          });\n        }\n        renderGallery(resalt.data.hits);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n    form.reset();\n  }\n}\n"],"names":["API_KEY","BASE_URL","axios","fetchFromPixabay","query","refs","galleryView","SimpleLightbox","createImageTemplate","image","imageTags","renderGallery","images","galeryContent","acc","resetGallery","onSubmit","event","form","resalt","iziToast","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,sBACjBC,EAAM,SAAS,QAAUD,EAElB,SAASE,EAAiBC,EAAO,CACtC,OAAOF,EAAM,IAAI,QAAS,CACxB,OAAQ,CACN,IAAKF,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,CACH,CCbA,MAAMC,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEA,IAAIC,EAAc,IAAIC,EAAe,iBAAkB,CACrD,aAAc,IACd,aAAc,KAChB,CAAC,EAED,SAASC,EAAoBC,EAAO,CAClC,MAAMC,EAAYD,EAAM,KAAK,MAAM,EAAG,GAAKA,EAAM,KAAK,MAAM,EAAE,EAAE,QAAQ,GAAG,CAAC,EAC5E,MAAO;AAAA,kCACyBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGxCA,EAAM,YAAY;AAAA,aAClBC,CAAS;AAAA;AAAA;AAAA,mDAG6BD,EAAM,KAAK;AAAA,mDACXA,EAAM,KAAK;AAAA,yDACLA,EAAM,QAAQ;AAAA,2DACZA,EAAM,SAAS;AAAA;AAAA;AAAA,MAI1E,CAEO,SAASE,EAAcC,EAAQ,CACpC,MAAMC,EAAgBD,EAAO,OAC3B,CAACE,EAAKL,IAAUK,EAAMN,EAAoBC,CAAK,EAC/C,EACJ,EACEJ,EAAK,QAAQ,UAAYQ,EACzBP,EAAY,QAAO,CACrB,CAEO,SAASS,GAAe,CAC7BV,EAAK,QAAQ,UAAY,GACzBC,EAAY,QAAO,CACrB,CCtCA,MAAMD,EAAO,CACX,KAAM,SAAS,cAAc,MAAM,CACrC,EACAA,EAAK,KAAK,iBAAiB,SAAUW,CAAQ,EAE7C,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,OACnB,SAAS,KAAK,mBACZ,aACA,8BACJ,EACOC,EAAK,SAAS,aAAa,EAAE,MAAM,QAQtCH,IACAZ,EAAiBe,EAAK,SAAS,aAAa,EAAE,KAAK,EAChD,KAAKC,GAAU,CACd,SAAS,cAAc,SAAS,EAAE,OAAM,EACpCA,EAAO,KAAK,KAAK,QAAU,GAC7BC,EAAS,MAAM,CACb,QAAS,kBACT,SAAU,UACtB,CAAW,EAEHT,EAAcQ,EAAO,KAAK,IAAI,CACtC,CAAO,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,EACHH,EAAK,MAAK,GAtBVE,EAAS,KAAK,CACZ,QAAS,6CACT,MAAO,UACP,gBAAiB,SACjB,SAAU,UAChB,CAAK,CAmBL"}